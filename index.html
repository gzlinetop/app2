<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>MiPlayer — Corregido</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Manifest PWA -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#6C4AE2">
  <!-- iOS support -->
  <link rel="apple-touch-icon" href="./icons/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- LINK A CSS (archivo local en la misma carpeta) -->
  <link rel="stylesheet" href="styles.css">
  <!-- Nota: El CSS va en el panel CSS de CodePen, y el JS en el panel JS -->
</head>
<body>
  <div class="wrap">
    <!-- LEFT -->
    <div class="left" id="leftCard" aria-label="Reproductor">
      <div class="top-controls">
        <div class="title-small">NOW PLAYING</div>
        <div style="display:flex;gap:8px">
          <button class="icon-btn" id="btnQueue" title="Cola">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 7h18M3 12h18M3 17h12" stroke="currentColor" stroke-width="1.6"></path></svg>
          </button>
          <button class="icon-btn" id="btnMinimize" title="Minimizar">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M6 12h12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path></svg>
          </button>
        </div>
      </div>

      <div class="player-area">
        <div class="vinyl" id="vinylCover" style="background-image:url('https://dummyimage.com/600x600/fff/000&text=?')">
          <div class="ring" id="ringInner">
            <div id="vinylCenter" style="width:48px;height:48px;border-radius:50%;background:rgba(0,0,0,0.12);display:flex;align-items:center;justify-content:center">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="5" stroke="white" stroke-width="1"></circle></svg>
            </div>
          </div>
        </div>

        <div style="text-align:center">
          <div class="track-title" id="nowTitle">No se reproduce</div>
          <div class="track-sub" id="nowArtist">Busca y reproduce</div>
        </div>

        <!-- video rectangular visible -->
        <div class="video-box" id="videoBox">
          <div id="ytVisible"></div>
        </div>

        <div class="controls">
          <button class="control" id="shuffleBtn" title="Aleatorio">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M3 6h3l3 8 4-8h4" stroke="currentColor" stroke-width="1.6"></path></svg>
          </button>
          <button class="control" id="prevBtn" title="Anterior">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M19 18V6L11 12l8 6zM5 6v12" stroke="currentColor" stroke-width="1.6"></path></svg>
          </button>

          <button class="play" id="playBtn" title="Play/Pausa">
            <svg id="playIcon" width="30" height="30" viewBox="0 0 24 24" fill="none"><path d="M5 3v18l15-9L5 3z" fill="#1b0a00"></path></svg>
          </button>

          <button class="control" id="nextBtn" title="Siguiente">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M5 6v12l8-6-8-6zM19 6v12" stroke="currentColor" stroke-width="1.6"></path></svg>
          </button>
          <button class="control" id="repeatBtn" title="Repetir">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M21 15v4h-4M3 9v-4h4" stroke="currentColor" stroke-width="1.6"></path><path d="M21 15a6 6 0 0 0-6-6H7" stroke="currentColor" stroke-width="1.6"></path></svg>
          </button>
        </div>

        <div class="progress" aria-hidden="false">
          <div class="bar" id="progressBar"></div>
        </div>

        <div style="display:flex;gap:8px;margin-top:14px;align-items:center">
          <button class="icon-btn" id="btnVideoToggle" title="Ocultar/Ver video">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="14" height="12" rx="2" stroke="currentColor" stroke-width="1.4"></rect><path d="M21 8v8" stroke="currentColor" stroke-width="1.4"></path></svg>
          </button>

          <!-- Muevo aqui el boton de crear playlist para que sea visible en movil -->
          <button class="icon-btn" id="btnCreatePL" title="Crear playlist" style="width:44px;height:40px;padding:6px;font-weight:700">+</button>

          <button class="icon-btn" id="btnFullScreen" title="Pantalla completa">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M4 4h6M20 20h-6M20 4v6M4 20v-6" stroke="currentColor" stroke-width="1.4"></path></svg>
          </button>
        </div>
      </div>

      <button class="minimize" id="minimizeBtn">Minimizar</button>
    </div>

    <!-- RIGHT -->
    <div class="right" id="rightPanel">
      <div class="search-row">
        <div class="search-box">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6"></path></svg>
          <input id="searchInput" placeholder="Buscar (máx 7 resultados)" autocomplete="off"/>
          <button id="searchBtn" class="icon-btn" style="width:40px;height:40px;padding:6px">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6"></path></svg>
          </button>
        </div>
        <div style="display:flex;gap:8px">
          <!-- Boton de favoritos eliminado según tu pedido -->
        </div>
      </div>

      <div class="actions-row">
        <div class="section-tabs" role="tablist">
          <div class="tab active" data-tab="tab-list">Lista</div>
          <div class="tab" data-tab="tab-recientes">Recientes</div>
          <div class="tab" data-tab="tab-favorites">Favoritos</div>
          <div class="tab" data-tab="tab-playlists">Playlists</div>
        </div>
        <div class="muted">Tus canciones</div>
      </div>

      <div class="list" id="listArea">
        <div style="padding:32px;text-align:center;color:var(--muted)">Busca una canción para comenzar</div>
      </div>
    </div>
  </div>

  <!-- mini player -->
  <div class="mini hidden" id="miniPlayer" aria-hidden="true">
    <div class="mthumb" id="miniThumb" style="background-image:url('https://dummyimage.com/600x600/222/fff')"></div>
    <div class="mmeta">
      <div class="mname" id="miniTitle">No se reproduce</div>
      <div class="msub" id="miniArtist">—</div>
    </div>
    <div style="display:flex;align-items:center;gap:8px">
      <button class="icon-btn" id="miniPrev"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M19 18V6L11 12l8 6zM5 6v12" stroke="currentColor" stroke-width="1.2"></path></svg></button>
      <button class="icon-btn" id="miniPlay"><svg id="miniPlayIcon" width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M5 3v18l15-9L5 3z" fill="#111"></path></svg></button>
      <button class="icon-btn" id="miniNext"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M5 6v12l8-6-8-6zM19 6v12" stroke="currentColor" stroke-width="1.2"></path></svg></button>
    </div>
  </div>

  <!-- modal & toast -->
  <div id="modalRoot" class="hidden"></div>
  <div id="toastRoot" class="hidden"></div>

  <!-- YT holder (hidden iframe will be appended here) -->
  <div id="ytApiHolder" style="display:none"></div>

  <!-- SCRIPT principal -->
  <script src="script.js"></script>
</body>
</html>
